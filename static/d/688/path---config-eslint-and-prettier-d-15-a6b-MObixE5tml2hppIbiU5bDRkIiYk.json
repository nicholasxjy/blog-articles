{"data":{"site":{"siteMetadata":{"title":"Nicholas Blog","author":"Nicholas Xue"}},"markdownRemark":{"id":"1f28ca97-ec88-5ced-b192-64ec71aee636","excerpt":"ESlint 通过对代码加以规范，尽可能的保证代码的统一性，也避免了代码中容易歧义而难以发现的bugs。 Prettier  通过按照规范自动化格式代码，让代码更加易读和清晰。\n本文讲述vue项目中的ESLint和Prettier的配置，希望可以帮助大家。 前言 我的一个vue…","html":"<p><strong>ESlint</strong>通过对代码加以规范，尽可能的保证代码的统一性，也避免了代码中容易歧义而难以发现的bugs。<strong>Prettier</strong> 通过按照规范自动化格式代码，让代码更加易读和清晰。\n本文讲述vue项目中的ESLint和Prettier的配置，希望可以帮助大家。</p>\n<h2>前言</h2>\n<p>我的一个vue项目的目录结构如图所示：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/29929dccc7a0bc3220903b162bce736c/7bf43/project.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 253.84615384615387%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAzCAYAAACXICiDAAAACXBIWXMAABYlAAAWJQFJUiTwAAAEzElEQVRYw+1XWXPaaBCUuG8wGAzGGHPoQoC4jLliO3E5d21la9/y//9Hb88nINipGLHP+zCWMKKZnp7pb9B+uCv89WkA958BMqMB9HMXkUsX4Zpc+4zBSaFl+Sd7M0C0aUO/dBCqDRC+lBhCqzjQyvZpkTLXuFz8gFYiWLWPVOcO6e4CGWPlP3Bu+cBBI96cINmeQ6/2EG+MCLZEiq8lMsYSiZsptKJBYJNfavpf8FaG2rmhkMO1PnLGHQru4z7O+u+RszeIXU8Qb04Rv5khXPf4fA/axR8i1vCQc96RrovkzQQZc6Uo56wN8s69uhZ69wq4NPig2LxZhhCpahWpla1oFb0n1NZ/I8GMcvY7lsL1KZcOKL8llgBGWTt5KFR2kPDuEFuvkO0sVaZ7YeS6y+Lw/nXErkfIk5Jkp5ddlKZzXH5YItlaKnohtk/4arSt3REwiZ0ofiY9lL0pWvcrAo0RpRgSseaM16kvxjFAESXVvVMPRip9RAfMZGwh0yLdC+f3NjmWZdZaojr/5kvOB6P1Ia7NJcrWml+0rWNpK0oQQJ/y7gFeqx7mcwfmyEO8s0GW4NLg0ui7L32TcoK9J324oxStj9AajVFzp0gZG/bhmgLdItYYBxNFUb79ugV0EBen6T8h1ntEXpqc2anMTqIsc7r9R+KCtvXlOxKrZ2Rbd4hceT5YkB70zWGM4uC9+pAuqpYHePy4wHC9RORmgQLLkSXtQPVTgNLYUkM1UjZ9cITJnYfOaEZRVnxvoywtEJiifNaGlm/tVdarAziehyt3hhgpiyBiuIEBk+0ZzoSyEsVChCr3R300emOkrXvVl3tBgkS6M/dnWV6wTuGrCepmExWzh0R3DZ1ni3ZxQmjFDoS23pgg7DwiMvyMp8UG3vwZ6clPZIbfoTPTsP0YKDStbPoTQnRdHOXSQ5YWlnc5duYDm3uNsBgDXUe9fyz2gNsaakUTLXeEinVL914jQ+NIi8qVnS9a/vVPoQC3CuqiUsnGM+fYsMeIdVdIUeUsJyaw0oeAfhYOct02x67Phn7w3abivLT+QIDlLSDP53OzizPDRYKeKNnFabLBG/swQ4KGLiykmyZyJtvJeVBToh+OXeAMVf3o1FxLisYUifZCHZ8J1jBC9eSYPb2GZ1364D1a0488R6aKrigssy4HfaC15CVlA6kaD/bGJyQ7s4PDnr1Y+y8ql7uI1+6RaXxl7WbM0HfrwF74GyCNtsapsLl5xUi1wM1B2kaJcnLbKEAbjYaNQbunmvqs5/dhlAd9YKV/AfpNXb/uwul0keABJYBCWRxbrXVBsnyZocUm9gjCnbHl74eyeIrKv/VjUMrp6yHyLYJ2FgpIspP9UIGdXkMLITp0VLZXtRYvFWB0d/KdVkNHfSjamiHJ3suQoiyZeSqdkM2VbqMHmZbXGWZZv5K12C/vEnJfoEAygkeFeW0OKd6X5KeGZCc15PjtqMtraaE3R/ClHzpI8r5AarKCCJjQlnlWFibPHFP6dYZp9mOVh39G5phgArgziUh9eKooBopU2Lj9QvuaKyCpn6zGYmUy2ycAkkqhjYvRZxgPP+mDMwWidkOCCphkq7IMVMOy8+vs2G1jrzf/IGvxyxoG/OkQXBT7tB+K/wNK/AuwZSZrYkyKfAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Project\"\n        title=\"project\"\n        src=\"/static/29929dccc7a0bc3220903b162bce736c/fb8a0/project.png\"\n        srcset=\"/static/29929dccc7a0bc3220903b162bce736c/1a291/project.png 148w,\n/static/29929dccc7a0bc3220903b162bce736c/2bc4a/project.png 295w,\n/static/29929dccc7a0bc3220903b162bce736c/fb8a0/project.png 590w,\n/static/29929dccc7a0bc3220903b162bce736c/7bf43/project.png 702w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>先不关注各个文件的用处，按照下面一步一步开始配置。</p>\n<h2>1. 安装需要的依赖</h2>\n<h3>1.1 安装ESLint相关依赖</h3>\n<p>你需要执行</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i -D eslint babel-eslint eslint-loader eslint-plugin-vue@next</code></pre></div>\n<p>eslint-loader是webpack的loader，而eslint-plugin-vue则定义了很多vue的eslint的规则。\n同时我们还需要安装eslint的prettier需要的依赖：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i -D eslint-plugin-prettier eslint-config-prettier</code></pre></div>\n<p><code class=\"language-text\">eslint-config-prettier</code> 关闭了eslint和prettier可能存在的一些冲突，而 <code class=\"language-text\">eslint-plugin-prettier</code> 可以让prettier不符合规范的作为eslint的不规范向我们提示。</p>\n<h3>1.2 安装Prettier相关依赖</h3>\n<p>只需要执行: </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> i -D prettier</code></pre></div>\n<h2>2. 配置文件</h2>\n<h3>2.1 ESLint的配置</h3>\n<p>ESLint的配置可以很多种形式去书写，单独的配置文件，package.json等等。我们这里单独使用配置文件，具体详情请参照<a href=\"https://eslint.org/docs/user-guide/configuring\">Configuring ESLint</a></p>\n<p>首先我们在项目里创建文件 <code class=\"language-text\">.eslintrc</code>，配置如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"root\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"parserOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"parser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel-eslint\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sourceType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"module\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"ecmaVersion\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2017</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"plugin:vue/essential\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"browser\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"node\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"globals\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"CONFIG\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"vue/require-default-prop\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"vue/no-v-html\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>其中主要两点是需要在<code class=\"language-text\">extends</code>中添加<code class=\"language-text\">plugin:vue/essential</code>，以及<code class=\"language-text\">plugins</code>中添加<code class=\"language-text\">vue</code>，此时我们的项目中ESLint的规则就设置完毕。</p>\n<h3>2.2 Prettier配置</h3>\n<p>同样在项目创建文件<code class=\"language-text\">.prettierrc</code>，配置如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"printWidth\"</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"semi\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"useTabs\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"singleQuote\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"tabWidth\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>注意</strong>此时我们需要在<code class=\"language-text\">.eslintrc</code>中添加<code class=\"language-text\">Prettier</code>需要的配置，如下(前后对比)：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"plugin:vue/essential\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"plugin:prettier/recommended\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"prettier\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prettier/prettier\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"vue/require-default-prop\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"vue/no-v-html\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"off\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>此时我们的基本配置就差不多已经完成，如果你通过webpack开启你的项目，就会看到<code class=\"language-text\">ESLint</code>和<code class=\"language-text\">Prettier</code>提示的很多错误，这就需要我们解决。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af8c7a5e5b895efa8dcd0e397c3b1eea/2557d/error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.472061657032754%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbUlEQVQoz42RW4+CQAyFR5D1jkYFATWLojAzIHLfW+LD/v//dLagRsy++PClpTSd01OmvqcYVb/QZQ4zzLHwE8x2MXrbCJ1VCNUOwUxB8FskjFZes+TQgxLjfQLGlgLaocTkXMGKMlgigSlTLMKYqDDaF48hd9pDm8gxcDMSIMGUlUD3+IFpXGAT0kCZYR0WMP0MY/cEhZpUS0IjevY1/6eQvodeBW19AtMcarBOGMoKS5nAlt8weIaN/ITlp7B5gUVAdZ5ivjtjsI5ogHgeSIw9UljnzJDo7nJofgnFihpY7ZslyD/6d1NVx0bZIiDPCCN4smBGG6m0LdMsju6hgi4ymGSswy8wThdMSOUyOMMRpPKYkLcp9EOOCXk1J1+n2wwDhwTYUTNUdW7H61Cxn1yguim97jfFzo3ravzpyrWnCimuY6d99Ttvbo4+/6K1BN7ur7QbXqHt53hTYu79ECUML6cYP/wyxWu0ev8AmH7qzWUWiCEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"error\"\n        title=\"\"\n        src=\"/static/af8c7a5e5b895efa8dcd0e397c3b1eea/fb8a0/error.png\"\n        srcset=\"/static/af8c7a5e5b895efa8dcd0e397c3b1eea/1a291/error.png 148w,\n/static/af8c7a5e5b895efa8dcd0e397c3b1eea/2bc4a/error.png 295w,\n/static/af8c7a5e5b895efa8dcd0e397c3b1eea/fb8a0/error.png 590w,\n/static/af8c7a5e5b895efa8dcd0e397c3b1eea/526de/error.png 885w,\n/static/af8c7a5e5b895efa8dcd0e397c3b1eea/fa2eb/error.png 1180w,\n/static/af8c7a5e5b895efa8dcd0e397c3b1eea/08f6a/error.png 1770w,\n/static/af8c7a5e5b895efa8dcd0e397c3b1eea/2557d/error.png 2076w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>当我们解决之后，代码美如下：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b292328db0bcc005be67fd6de9a941b3/5e395/resolve.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 61.5819209039548%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABoklEQVQoz51Tf1OCQBQ8RFATcSwiEAktBOH4TcFM09T3/1TbO8HStJrpj52D4d2+3bcPNlxXuKrfoUcVzLjGws+hexkUh0O64xhYHOx2R4jAzAugbwObYxE/Uz29i0I1aDAvG6yyGlZcwuYVjDSHEbeYUMM9ofkzoWwnGN8XYEYoCGMoRDhLnmBsMyyCDHdhifkmg0oqmbE7IzhXmGAWtPQsCMmWZCXQogImf4G+qTDxKrKcg92Evd0jfCfdK+SYPlRd8wPhxM9wHdIMH0uM7lOoywRDO+6wjPeXLiokEsVJMPfLTgAzqdgtMNw2kOwQ8pJj6ETQ3ARXK5rNikN1ORRq0JFcsGzFGLlp10zMUIQy3lbQvBqzTQNlU0MikhFh2hNrpFpc/G738zzMmpmkiC4ssgozv4Hmt1Af6r1FubcsWx1+CuXkWSgckE19R6muc8hOiqlXYuwURJJ8FX6GsjsP6jgwaZlikr9BWuWnK/Lb7v2yk0x2c4yilpKOuj0Sy3n7H/QCdK+FEbzimvbIfCwwX9PvZgrigIqC7vwLoq4n/AD9PDOZ+vvUigAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"resolve\"\n        title=\"\"\n        src=\"/static/b292328db0bcc005be67fd6de9a941b3/fb8a0/resolve.png\"\n        srcset=\"/static/b292328db0bcc005be67fd6de9a941b3/1a291/resolve.png 148w,\n/static/b292328db0bcc005be67fd6de9a941b3/2bc4a/resolve.png 295w,\n/static/b292328db0bcc005be67fd6de9a941b3/fb8a0/resolve.png 590w,\n/static/b292328db0bcc005be67fd6de9a941b3/526de/resolve.png 885w,\n/static/b292328db0bcc005be67fd6de9a941b3/fa2eb/resolve.png 1180w,\n/static/b292328db0bcc005be67fd6de9a941b3/08f6a/resolve.png 1770w,\n/static/b292328db0bcc005be67fd6de9a941b3/5e395/resolve.png 2124w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>3. 编辑器的配置</h2>\n<p>目前很多编辑器都有<code class=\"language-text\">ESLint</code>和<code class=\"language-text\">Prettier</code>的插件集成，所以我们完全可以通过插件，自动帮助我们实时的解决代码格式规范问题。</p>\n<p>这里只讲一下<code class=\"language-text\">Visual Studio Code</code>即（VSCode）的配置：</p>\n<p>在<code class=\"language-text\">VSCode</code>中你需要安装<code class=\"language-text\">ESlint</code>和 <code class=\"language-text\">Prettier - Code formatter</code>两个插件，然后在<code class=\"language-text\">settings.json</code>中配置如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prettier.eslintIntegration\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint.autoFixOnSave\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"eslint.validate\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"javascript\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"javascriptreact\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"language\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"vue\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"autoFix\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>按照上述配置，在<code class=\"language-text\">VS Code</code>中当你save一个文件时，会自动帮助你解决<code class=\"language-text\">ESLint</code>的问题，而且会自动<code class=\"language-text\">美化</code>你的代码。</p>\n<p>最后如果有问题或者详细了解配置还请去看官方文档，希望文章可以帮助到大家。Peace out ！！！</p>","frontmatter":{"title":"How to config ESLint and Prettier for your vue projects","date":"December 02, 2018"}}},"pageContext":{"slug":"/config-eslint-and-prettier/","previous":null,"next":null}}